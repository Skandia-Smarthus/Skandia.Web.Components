<div class="w-full skandia-custom">


<div class="hidden opacity-70 opacity-50 animate-pulse skandiaenergi ">
    <div class="SkandiaEnergi:hidden">
        SkandiaEnergi
    </div>
    <input type="hidden" id="linkWelcome1" value="/velkommen-spot" />
    <input type="hidden" id="linkWelcome2" value="" />
    <input type="hidden" id="linkWelcome3" value="" />
    <button id="step2AddButton5" class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 spinner">
        <svg id="smsSpinner3" style="display:none" class="-ml-1 mr-3 h-5 w-5 text-white " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        G친 videre
    </button>
    <div class="bg-brand-pink">TEST2</div>
    <div id="loader" class="mx-auto hidden absolute top-1/4 left-0 right-0 z-10">
        <!--<lottie-player src="/images/anim/elkompis.json" background="transparent" speed="1" class="h-32 w-32 mx-auto" loop autoplay></lottie-player>-->
    </div>
</div>

    <div id="step1-scrollto"></div>
    <div id="onboardingformV2" class="w-600 mx-auto relative mt-10 mb-20 SkandiaEnergi">
        <div id="onboarding-container" class="">
            <!--Steg1 start-->
            <div id="step1-sum" class="hidden">
                <div class="form-box relative h-[55px] flex items-center ">
                    <div class="form-bullet pos-left md em mx-4">1</div>
                    <div class="text-oform-h1 em">

                         Start din bestilling her
                    </div>
                </div>
            </div>

            <div id="step1" class="">
                <div class="form-box active relative">
                    <div class="form-bullet pos-center lg em">1</div>
                    <div id="step1-intro" class="">
                        <div class="inner">
                            <div class="text-oform-h1 em mt-2 font-bold">1. Hei, s친 hyggelig at du vil bli kunde i SkandiaEnergi!</div>
                            Avtalen Spot koster kun 39 kr/mnd og 5,9 칮re/kWh. Det er gratis 친 bytte, og vi avslutter din gamle str칮mavtale for deg.
                        </div>
                        <div class="text-center mt-6">

                                <div class="mb-2">
                                    <button id="vipps-button" class="e-btn bg-warning-vipps inline-block whitespace-nowrap text-white em btn-t-vipps">
                                        Finn dine opplysninger med vipps
                                    </a>
                                </div>
                            <div class="mb-2">
                                <button name="step1ButtonTextSearch" class="e-btn e-btn-primary text-white em btn-t-phone" onclick="gotoStep(1,'cell')">
                                    Manuell registrering
                                </button>
                            </div>
                        </div>

                    </div>

                    <div id="step1-cell" class="inner hidden">
                        <div class="text-oform-h1 em mt-2">
                            Da er du i gang!
                        </div>
                        Fyll ut mobilnummer og epost, s친 vi finner dine opplysninger.
                        <form action="#" id="cellvalidation">
                            <div class="text-left mt-4 mb-8">
                                <div class="flex flex-col gap-4">
                                    <div class="basis-1">
                                        <label class="text-oform-body2 em iconRequired centerRight pr-4">Mobilnummer</label>
                                        <input type="tel" class="form-control" aria-describedby="Mobilnummer" id="onboarding_cell" placeholder="Skriv inn mobilnummer" required="required" pattern="\d{8,8}" />
                                        <label class="error-text">Fyll inn gyldig mobilnummer</label>
                                    </div>
                                    <div class="basis-1">
                                        <label for="onboarding_email" class="text-oform-body2 em iconRequired centerRight pr-4">E-post</label>
                                        <input type="email" class="form-control" aria-describedby="E-post" id="onboarding_email" placeholder="Skriv inn e-post" required="required">
                                        <label class="error-text">Fyll inn gyldig e-post </label>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between">

                                <button class="e-btn-link underline btn-t-back" onclick="gotoStep(1,'intro')" type="button">
                                    Tilbake
                                </button>
                                <button class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 btn-t-cellsearch" type="submit" id="btnSubmitCellSearch">
                                    <svg id="smsSpinner" class="animate-spin_off -ml-1 mr-3 h-5 w-5 text-white " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>

                                    G친 videre
                                </button>
                            </div>
                        </form>
                    </div>
                    <div id="step1-verification" class="inner hidden">
                        <div class="text-oform-h1 em mt-2">
                            Godt jobbet!
                        </div>
                        Fyll inn koden du fikk p친 sms.
                        <form action="#" id="lookup">
                            <div class="text-left mt-4 mb-8">
                                <div class="flex flex-col gap-4">
                                    <div class="basis-1">
                                        <label class="text-oform-body2 em iconRequired centerRight pr-4">Verifiseringskode</label>
                                        <input type="tel" class="form-control" aria-describedby="VerificationCode" id="cell_verification" placeholder="Skriv inn kode" required="required" pattern="\d{5,5}" />
                                        <label class="error-text">Fyll inn gyldig kode</label>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between">

                                <button class="e-btn-link underline btn-t-back" onclick="gotoStep(1,'cell')" type="button">
                                    Tilbake
                                </button>
                                <button class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 btn-t-cellsearch" type="submit" id="btnSubmitCellSearch">
                                    <svg id="smsSpinner2" style="display:none" class="-ml-1 mr-3 h-5 w-5 text-white " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>

                                    G친 videre
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="lineDashed !my-5 mx-auto"></div>
            </div>
            <!--Steg1 stopp-->
            <div id="step12-space" class="hidden h-2.5"></div>
            <!--Steg2 start-->
            <div id="step2-sum" class="form-box relative h-[55px] flex items-center mb-2.5">
                <div class="form-bullet pos-left md em mx-4">2</div>
                <div class="grow text-oform-h1 em flex flex-row gap-x-8 mr-4">
                    <div class="grow text-left">
                        Navn og adresse
                    </div>
                    <div id="step2-editpen" class="hidden text-right place-content-end w-6 flex-none btn-t-deliverybackedit">
                        <button class="btn align-start place-content-end iconPencil size1"
                                onclick="gotoStep(2)"></button>
                    </div>
                </div>
                <div id="step3-scrollto" class="hidden mt-2"></div>
            </div>


            <!-- STEP2 VIPPS START ------------------------------------------------------------------------------------------------------>

            <div id="step2-scrollto"></div>
            <div id="step2" class="hidden">
                <div class="lineDashed !mt-3.5 mb-10 mx-auto"></div>
                <div class="form-box relative">
                    <div class="form-bullet pos-center lg em">2</div>
                    <div class="inner">
                        <div class="text-oform-h1 em mt-2">
                            Navn og adresse
                        </div>
                        <div class="text-left mt-6">
                            <div id="deliveriesContainer">
                            </div>

                            <div class="flex justify-between mt-4">
                                <button class="e-btn-link underline btn-t-back" onclick="gotoStep(1,'intro')" type="button">
                                    Tilbake
                                </button>
                                <button id="step2Next" class="e-btn-lg e-btn-secondary text-white btn-t-deliveries" onclick="validate('step2', 'overview')">
                                    G친 videre
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lineDashed !my-5 mx-auto"></div>
            </div>

            <div id="step2-edit" class="hidden">
                <div class="lineDashed !mt-3.5 mb-10 mx-auto"></div>

                <div class="form-box relative">
                    <input type="hidden" id="deliveryIdEdit" value="" />
                    <div class="form-bullet pos-center lg em">2</div>
                    <div class="inner">
                        <div class="text-oform-h1 em mt-2">
                            Navn og adresse
                        </div>
                        Du trenger ikke 친 finne m친lenummeret ditt f칮r du bestiller. Vi kontakter deg senere for 친 legge det inn. Har du en partner st친r nummeret gjerne p친 dem, og det overf칮res til deg.
                        <div class="text-left mt-6">
                            <div id="onboarding-manual-name" class="">
                                <div class="flex flex-col gap-2 mb-2">
                                    <div class="basis-1">
                                        <label class="text-oform-body2 em iconRequired centerRight pr-4">Fornavn</label>
                                        <input type="text" aria-describedby="Fornavn" id="firstNameEdit" data-type="notclear" class="form-control required" onchange="clearFnr()" />
                                        <label class="error-text">Fyll inn fornavnet ditt.</label>
                                    </div>
                                    <div class="basis-1">
                                        <label class="text-oform-body2 em iconRequired centerRight pr-4">Etternavn</label>
                                        <input type="text" aria-describedby="Etternavn" id="lastNameEdit" data-type="notclear" class="form-control required" onchange="clearFnr()" />
                                        <label class="error-text">Fyll inn etternavnet ditt.</label>
                                    </div>
                                </div>
                                <div class="mb-2 hidden" id="sep1-pnr">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">F칮dselsnummer (11 siffer)</label>
                                    <input type="text" class="form-control requiredCustom" id="personalNumberEdit" onchange="validateFnrChange(this.value)" />
                                    <label for="personalNumberEdit" class="error-text">Fyll inn ditt f칮dselsnummer (11 siffer).</label>
                                </div>
                            </div>
                            <div class="flex flex-row gap-x-8 mb-2">
                                <div class="grow ">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">Adresse</label>
                                    <input type="text" aria-describedby="Gateadresse" id="onboardingAddressEdit" class="form-control required" onchange="addressChange()">
                                    <label for="onboardingAddressEdit" class="error-text">Fyll inn din adresse.</label>
                                </div>
                                <div class="flex-none w-16">
                                    <label class="text-oform-body2 em">Nummer</label>
                                    <input type="text" aria-describedby="Nummer" id="onboardingHouseNoEdit" />
                                    <div class="error-text"></div>
                                </div>
                            </div>
                            <div class="flex flex-row gap-x-8 mb-2">
                                <div class="flex-none w-16">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">Postnr</label>
                                    <input id="onboardingZipEdit" type="number" class="form-control reset required" aria-describedby="Postnummer">
                                    <label for="onboardingZipEdit" class="error-text">Fyll inn postnr.</label>
                                </div>
                                <div class="grow">
                                    <label class="text-oform-body2 em">Poststed</label>
                                    <div class="relative">
                                        <input id="onboardingPlaceEdit" type="text" class="form-control" readonly="readonly">
                                        <div id="city-loader" class="icon-container hidden"><i class="loader"></i></div>
                                    </div>
                                    <div class="error-text"></div>
                                </div>
                            </div>
                            <div class="mb-4 relative">
                                <div id="meternumberPopup" class="form-popup hidden">
                                    <div class="flex justify-between mb-2">
                                        <div class="em">
                                            M친lernummer
                                        </div>
                                        <div class="form-popup-close iconClose btnIcon m-0 w-6 h-6 topRight cursor-pointer" onclick="HidePopup('#meternumberPopup')"></div>
                                    </div>
                                    
Du trenger ikke 친 finne m친lenummeret ditt f칮r du bestiller. Vi kontakter deg senere for 친 legge det inn. Har du en partner st친r nummeret gjerne p친 dem, og det overf칮res til deg.

                                </div>
                                <div class="flex h-[25px]">
                                    <label class="grow text-oform-body2 em">M친lernummer</label>
                                        <div class="e-btn-link em underline cursor-pointer iconHelp centerRight w-4 h-4" data-popup="#step1InfoTekst" onclick="ShowPopup('#meternumberPopup')"></div>

                                </div>
                                <input id="meterNumberAdd" type="text" class="form-control" placeholder="Dersom tilgjengelig">
                            </div>
                            <div class="mb-4 hidden" id="step2email">
                                <label class="text-oform-body2 em iconRequired centerRight pr-4">E-post</label>
                                <input type="email" aria-describedby="E-post" id="onboarding_email_edit" placeholder="Skriv inn e-post" required="required">
                                <label class="error-text">Fyll inn gyldig e-post.</label>
                            </div>
                            <div class="mt-2 mb-4">
                                <label class="text-oform-body2">Felt merked med <span class="inline-block iconRequired centerCenter w-4 h-3"></span> er obligatorisk.</label>
                            </div>
                            <div class="mb-4">
                                <div class="flex items-center">
                                    <input id="supply-takover" name="takover" type="checkbox" class="control w-6 h-6 rounded-sm border">
                                    <label for="supply-takover" class="ml-4 block text-oform-body em my-0 cursor-pointer">

                                        Jeg overtar boligen
                                    </label>
                                </div>
                            </div>
                            <div id="takeover-date" class="mb-4 hidden">
                                <label class="text-oform-body2 em">Dato du flytter inn</label>
                                <div class="w-[210px]"><input id="takoverDate" type="date" class="form-control form-date"></div>
                                <div class="error-text"></div>
                            </div>
                            <div class="flex justify-between">
                                <button class="e-btn-link underline btn-t-back" onclick="gotoStep(2, 'back')">

                                    Tilbake
                                </button>
                                <button id="step2EditButton" class="e-btn-lg e-btn-secondary text-white hidden btn-t-editdelivery" onclick="validate('step2')">

                                    G친 videre
                                </button>
                                <button id="step2AddButton" class="e-btn-lg e-btn-secondary text-white btn-t-addelivery" onclick="validate('step2', 'add')">

                                    G친 videre
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lineDashed !my-5 mx-auto"></div>
            </div>
            <!--Steg2 stopp-->
            <!--Steg3 start-->
            <div id="step3-sum" class="form-box relative h-[55px] flex items-center">
                <div class="form-bullet pos-left md em mx-4">3</div>
                <div class="text-oform-h1 em">

                    Bekreft og bestill
                </div>
            </div>

            <div id="step3-confirm" class="hidden hideOrderDetails">

                <div class="lineDashed !mt-3.5 mb-10 mx-auto"></div>

                <div class="form-box  relative">
                    <div class="form-bullet pos-center lg em">3</div>
                    <div class="inner">
                        <div class="text-oform-h1 em mt-2">

                            Bestill, vi fikser resten
                        </div>

                        Bestill og len deg tilbake mens vi fikser alt det praktiske. 游
                        <div class="text-left mt-6">
                            <div class="flex mb-4">

                                <div class="grow">
                                    <div class="em">

                                        
                                    </div>
                                    <div class="">

                                        
                                    </div>
                                </div>
                            </div>
                            <div class="">
                                <button class="e-btn-link em pr-4" onclick="showOrderDetails()">
                                    Se ordredetaljer <i class="onHide iconChevronRight10 centerRight w-3 h-3 inline-block"></i><i class="onShow iconChevronDown10 centerRight w-3 h-3 inline-block"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <hr class="border-t-2 my-6" />
                    <div class="onShow">
                        <!--Ordredetaljer-->
                        <div class="inner text-left">
                            <div class="flex mb-4">
                                <div class="w-12 flex-none"><img src="https://elkompissquarespace.blob.core.windows.net/assets/site/assets/icons/Smiley.svg" alt="Person" /></div>
                                <div class="grow" id="step3CustomerDataContainer">
                                </div>
                            </div>
                            <div class="flex mb-4">
                                <div class="w-12 flex-none"><img src="https://elkompissquarespace.blob.core.windows.net/assets/site/assets/icons/House.svg" alt="Adresse" /></div>
                                <div class="grow leading-6">
                                    <div class="em">

                                        Du f친r str칮m levert til
                                    </div>
                                    <div id="step3CustomerDeliveriesContainer">
                                    </div>
                                    <div id="step3CustomerText" class="hidden">

                                        Vi kontakter deg for 친 skaffe m친lernummeret ditt
                                    </div>
                                </div>
                            </div>
                                <div class="flex mb-4">
                                    <div class="w-12 flex-none"><img src="https://elkompissquarespace.blob.core.windows.net/assets/site/assets/icons/Agreement.svg" alt="Avtale" /></div>
                                    <div class="grow leading-8">
                                        <div class="em">

                                            Abonnementsdetaljer
                                        </div>

                                        Avtaletype: Spot
M친nedsbel칮p: 39 kr
P친slag: 5,9 칮re/kilowattime
                                    </div>
                                </div>


                            <div class="flex mb-4">
                                <div class="w-12 flex-none"><img src="https://elkompissquarespace.blob.core.windows.net/assets/site/assets/icons/Pen.svg" alt="Endre" /></div>
                                <div class="grow">
                                    <button class="e-btn-link em btn-t-editdelivery" onclick="gotoStep(2)">

                                        Rediger
                                    </button>
                                </div>
                            </div>

                        </div>
                        <hr class="border-t-2 my-4" />
                    </div>
                    <div>
                        <!--Vilk친r-->
                        <div class="inner text-left">
                            <div class="em !my-3">Kj칮psvilk친r og oppstart</div>
                            <div class="mb-2">
                                <div class="flex items-start">
                                    <input id="acceptedTerms" name="acceptedTerms" type="checkbox" class="control w-6 h-6 rounded-sm mt-2 btn-t-acceptedterms">
                                    <div class="ml-4 block text-oform-body1 my-0 cursor-pointer topLeft">
                                        Jeg bekrefter at jeg har lest og forst친tt <a href="/avtalevilkar-spot" target="_blank">vilk친rene.</a>. Jeg har ogs친 sett/er kjent med <a href="/avtalevilkar-spot" target="_blank">standard angreskjema.</a> og <a href="/avtalevilkar-spot" target="_blank"> standard skjema for opplysninger om angrerett.</a>. Du kan sammenligne str칮mpriser p친 www.strompris.no.
                                    </div>
                                </div>
                            </div>





                            <!--Bestill knapp-->
                            <div class="text-center mt-3">
                                <button id="onboardingSaleButton" class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 btn-t-sale" onclick="" disabled="disabled">
                                    <svg id="smsSpinner4" style="display:none" class="-ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                    Bestill n친
                                </button>
                            </div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Steg3 stopp-->
            <!-- STEP4 EDIT Creating order START ------------------------------------------------------------------------------------------------------>

            <div id="step-createorder" class="hidden">
                <div class="min-h-[300px]">
                    <div class="mx-auto mb-12">
                        <lottie-player src="https://elkompissquarespace.blob.core.windows.net/assets/site/assets/animation.json" background="transparent" speed="1" class="h-20 w-20 mx-auto" loop autoplay></lottie-player>
                    </div>

                </div>
            </div>

        </div>
    </div>


</div>

<p class="hidden">Compiled in mode Production</p>

<script>
    (function(){
        console.log("Setting up component ");
        var inviteCode = getQueryParamValue('invite');

        window.saleApi = {"basePath":"https://app-elkompis-service-prod.azurewebsites.net/","basePathSkandia":"https://app-elkompis-service-skandia-prod.azurewebsites.net/","basePathSaga":"https://app-elkompis-service-saga-prod.azurewebsites.net/","phoneLookupPath":"sale/lookup","smsverificationPath":"sale/smsverification","phoneLookupVippsPath":"sale/lookupvipps","placeLookupPath":"sale/place","customerLookupPath":"sale/customerlookup","vippsUrlLookupPath":"sale/vippsurl","saleLeadPath":"sale/salelead","saleRegisterPath":"sale","saleRegisterSkandiaPath":"sale/skandiaEnergiSale","saleRegisterSagaPath":"sale/sagaEnergiSale"};
        window.vippsRedirectUrl = '';
        window.profile = 'SkandiaEnergi';
        window.campaignCode = 'vrsjc';
        window.productId = '2';
        window.invite = inviteCode;

        let trackingObj = sessionStorage.getItem('trackingObj');
        if(!trackingObj)
        {
            const trackingObj = {
                invite: inviteCode,
                utm_source: getQueryParamValue('utm_source'),
                utm_medium: getQueryParamValue('utm_medium'),                
                utm_campaign: getQueryParamValue('utm_campaign'),
                utm_term: getQueryParamValue('utm_term'),
                utm_content: getQueryParamValue('utm_content'),
            };
            sessionStorage.setItem('trackingObj', JSON.stringify(trackingObj));
        }
    })();  


</script> <div id="scriptcontainer" class="hidden">
    <script id="orderDetailsCustomer" type="template">
        <div class="em">{{Firstname}} {{Lastname}}</div>
        <div class="leading-8">Tlf. {{Cell}}</div>
        <div>{{Email}}</div>
    </script>
    <script id="orderDetailsDeliveries" type="template">
        <div class="my-2">
            <div class="{{andClass}} em mb-2">og</div>
            <div>{{Address}} {{HouseNumber}}</div>
            <div>{{ZipCode}} {{Place}}</div>
        </div>
    </script>
    <script id="deliveryNew" type="template">
        <div class="rounded-xl shadow hover:shadow mt-4 border bg-white mb-2" id="delivery-{{index}}">
            <input type="hidden" class="deliveryIndex" value="{{index}}"/>
            <div class="p-3 sm:p-6 flex deliveryData">
                <div class="checkbox-container hidden"><input type="checkbox" {{checked}} class="delivery-selector rounded-sm control "></div>
                <div class="w-8 h-8"><button class="btn iconDelete w-full h-full centerLeft hideonskandiasale" onclick="DeleteDelivery({{index}})"></button></div>
                <div class="grow data overflow-hidden" id="data-{{index}}">
                    <div class="e-text-body1 em"><span class="address">{{Address}}</span> <span class="houseno">{{HouseNo}}</span></div>
                    <div class="e-text-body1">{{Firstname}} {{Lastname}}</div>
                    <div class="e-hidden"><span class="zipcode">{{ZipCode}}</span> <span class="place">{{Place}}</span></div>
                    <div class="flex e-text-body2 mt-3 text-ellipsis {{meterNumberClass}}"><div class="mr-2">M친lernr</div><div class="meternumber">{{meterNumber}}</div></div>
                </div>
                <div class="text-right place-content-end w-4"><button class="btn align-start place-content-end iconPencil size1 topCenter" onclick="EditDeliveryV2('#data-{{index}}', {{index}})"></button></div>
            </div>
        </div>
    </script>
</div>