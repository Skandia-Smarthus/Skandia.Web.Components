<div class="w-full">


<div class="hidden opacity-70 opacity-50 animate-pulse skandiaenergi ">
    <div class="SkandiaEnergi:hidden">
<!--        @companyType-->
        {{profile}}
    </div>
    <input type="hidden" id="linkWelcome1" value="@linkWelcome1Url" />
    <input type="hidden" id="linkWelcome2" value="@linkWelcome2Url" />
    <input type="hidden" id="linkWelcome3" value="@linkWelcome3Url" />
    <button id="step2AddButton5" class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 spinner">
        <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
<!--        @textNext-->
        {{global.buttons.next}}
    </button>
    <div class="bg-brand-pink">TEST2</div>
    <div id="loader" class="mx-auto hidden absolute top-1/4 left-0 right-0 z-10">
        <!--<lottie-player src="/images/anim/elkompis.json" background="transparent" speed="1" class="h-32 w-32 mx-auto" loop autoplay></lottie-player>-->
    </div>
</div>



<div id="step1-scrollto"></div>
<div id="onboardingformV2" class="w-600 mx-auto relative mt-10 mb-20 {{profile}}"><!--@companyType.ToString().ToLower()-->
    <div id="onboarding-container" class="">
        <!--Steg1 start-->
        <div id="step1-sum" class="hidden">
            <div class="form-box relative h-[55px] flex items-center ">
                <div class="form-bullet pos-left md em mx-4">1</div>
                <div class="text-oform-h1 em">
                    <!--@content.Value("step1BoxHeader")-->
                    {{step1.title}}
                    </div>
            </div>
        </div>

        <div id="step1" class="">
            <div class="form-box active relative">
                <div class="form-bullet pos-center lg em">1</div>
                <div id="step1-intro" class="">
                    <div class="inner">
                        <div class="text-oform-h1 em mt-2 font-bold">{{step1.header.text}}<!--@content.Value("step1Header")--></div>
                        {{step1.header.sub-text}} <!--@content.Value("step1LeadText")-->
                    </div>
                    <div class="text-center mt-6">
                        {{#if step1.vipps.enabled}}

                        <div class="mb-2">
                            <!--<a href="@vippsUrl" class="e-btn bg-warning-vipps inline-block whitespace-nowrap text-white em btn-t-vipps">-->
                            <a id="vipps-button" class="e-btn bg-warning-vipps inline-block whitespace-nowrap text-white em btn-t-vipps">
                                {{step1.vipps.button-text}}
                            </a>
                        </div>
                            {{#if step1.button-search-text}}

                            <div class="text-oform-body mb-2">eller</div>
                           {{/if}}
                        {{/if}}
                        <div class="mb-2">
                            <button name="step1ButtonTextSearch" class="e-btn e-btn-primary text-white em btn-t-phone" onclick="gotoStep(1,'cell')">
                              {{step1.cell.button-text}}
                            </button>
                        </div>
                        {{#if step1.info-popup.heading.text}}
                        <div class="mt-8 mb-2 relative">
                            <div id="step1InfoTekst" class="form-popup hidden">
                                <div class="flex justify-between mb-2">
                                    <div class="em">{{step1.info-popup.header.text}}</div>
                                    <div class="form-popup-close iconClose btnIcon m-0 w-6 h-6 topRight cursor-pointer" onclick="HidePopup('#step1InfoTekst')"></div>
                                </div>
                                {{step1.heading.sub-text}}
                            </div>
                            <div class="e-btn-link em underline cursor-pointer form-link-help" data-popup="#step1InfoTekst" onclick="ShowPopup('#step1InfoTekst')">{{step1.header.heading}}</div>
                        </div>
                       {{/if}}
                    </div>

                </div>

                <div id="step1-cell" class="inner hidden">
                    <div class="text-oform-h1 em mt-2">
<!--                        @content.Value("step1CellHeader")-->
                        {{step1.cell.header.text}}
                    </div>
                    {{step1.cell.header.sub-text}}
<!--                    @content.Value("step1CellLeadText")-->
                    <!--<form action="" method="get"></form>-->
                    <form action="#" id="lookup">
                        <div class="text-left mt-4 mb-8">
                            <div class="flex flex-col gap-4">
                                <div class="basis-1">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">Mobilnummer</label>
                                    <input type="text" class="form-control" aria-describedby="Mobilnummer" id="onboarding_cell" placeholder="Skriv inn mobilnummer" required="required" pattern="\d{8,8}" />
                                    <label class="error-text">Fyll inn gyldig mobilnummer</label>
                                </div>
                                <div class="basis-1">
                                    <label for="onboarding_email" class="text-oform-body2 em iconRequired centerRight pr-4">E-post</label>
                                    <input type="email" class="form-control" aria-describedby="E-post" id="onboarding_email" placeholder="Skriv inn e-post" required="required">
                                    <label class="error-text">Fyll inn gyldig e-post </label>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between">
                            <!--min="40000000" maxlength="99999999"> <a class="underline" href="@redirectURL">@textBack</a> -->
                            <button class="e-btn-link underline btn-t-back" onclick="gotoStep(1,'intro')" type="button">
<!--                                @textBack-->
                                {{global.buttons.back}}
                            </button>
                            <button class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 btn-t-cellsearch" type="submit" id="btnSubmitCellSearch">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
<!--                                @textNext-->
                                {{global.buttons.next}}
                            </button>
                        </div>
                        <!-- onclick="validate('step1')" -->
                    </form>
                </div>
            </div>
            <div class="lineDashed my-5 mx-auto"></div>
        </div>
        <!--Steg1 stopp-->
        <div id="step12-space" class="hidden h-2.5"></div>
        <!--Steg2 start-->
        <div id="step2-sum" class="form-box relative h-[55px] flex items-center mb-2.5">
            <div class="form-bullet pos-left md em mx-4">2</div>
            <div class="grow text-oform-h1 em flex flex-row gap-x-4 mr-4">
                <div class="grow text-left">
<!--                    @content.Value("step2BoxHeader")-->
                    {{step2.title}}
                </div>
                <div id="step2-editpen" class="hidden text-right place-content-end w-6 flex-none btn-t-deliverybackedit">
                    <button class="btn align-start place-content-end iconPencil size1"
                            onclick="gotoStep(2)"></button>
                </div>
            </div>
            <div id="step3-scrollto" class="hidden mt-2"></div>
        </div>


        <!-- STEP2 VIPPS START ------------------------------------------------------------------------------------------------------>

        <div id="step2-scrollto"></div>
        <div id="step2" class="hidden">
            <div class="lineDashed mt-3.5 mb-10 mx-auto"></div>
            <div class="form-box relative">
                <div class="form-bullet pos-center lg em">2</div>
                <div class="inner">
                    <div class="text-oform-h1 em mt-2">
<!--                        @content.Value("step2Header")-->
                        {{step2.header.text}}
                    </div>
                    <div class="text-left mt-6">
                        <div id="deliveriesContainer">
                        </div>
                        {{#if step2.buttons.add-delivery}}

                          <button class="my-4 ml-3 iconPlus btnIcon hover:underline centerLeft pl-12 em text-left" onclick="gotoStep(2,'add')">
<!--                              @textAddDelivery-->
                              {{step2.buttons.add-delivery}}
                          </button>

                        {{/if}}

                        <!--<button class="my-4 ml-3 hover:underline centerLeft pl-12 em text-left" onclick="gotoStep(2,'reset')">@textResetUser</button>-->

                        <div class="flex justify-between mt-4">
                            <!--<button class="e-btn-link underline" onclick="gotoStep(1,'intro')">@textBack</button>
                            <a class="underline" href="@redirectURL">@textBack</a>-->
                            <button class="e-btn-link underline btn-t-back" onclick="gotoStep(1,'intro')" type="button">
<!--                                @textBack-->
                                {{global.buttons.back}}
                            </button>
                            <button id="step2Next" class="e-btn-lg e-btn-secondary text-white btn-t-deliveries" onclick="validate('step2', 'overview')">
<!--                                @textNext-->
                                {{global.buttons.next}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lineDashed my-5 mx-auto"></div>
        </div>

        <div id="step2-edit" class="hidden">
            <div class="lineDashed mt-3.5 mb-10 mx-auto"></div>

            <div class="form-box relative">
                <input type="hidden" id="deliveryIdEdit" value="" />
                <div class="form-bullet pos-center lg em">2</div>
                <div class="inner">
                    <div class="text-oform-h1 em mt-2">
<!--                        @content.Value("step2Header")-->
                        {{step2.header.text}}
                    </div>
<!--                    @content.Value("step2LeadText")-->
                    {{step2.header.sub-text}}
                    <div class="text-left mt-6">
                        <div id="onboarding-manual-name" class="">
                            <div class="flex flex-col gap-2 mb-2">
                                <div class="basis-1">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">Fornavn</label>
                                    <input type="text" aria-describedby="Fornavn" id="firstNameEdit" data-type="notclear" class="form-control required" onchange="clearFnr()" />
                                    <label class="error-text">Fyll inn fornavnet ditt.</label>
                                </div>
                                <div class="basis-1">
                                    <label class="text-oform-body2 em iconRequired centerRight pr-4">Etternavn</label>
                                    <input type="text" aria-describedby="Etternavn" id="lastNameEdit" data-type="notclear" class="form-control required" onchange="clearFnr()" />
                                    <label class="error-text">Fyll inn etternavnet ditt.</label>
                                </div>
                            </div>
                            <div class="mb-2 hidden" id="sep1-pnr">
                                <label class="text-oform-body2 em iconRequired centerRight pr-4">Fødselsnummer (11 siffer)</label>
                                <input type="text" class="form-control requiredCustom" id="personalNumberEdit" onchange="validateFnrChange(this.value)" />
                                <label for="personalNumberEdit" class="error-text">Fyll inn ditt fødselsnummer (11 siffer).</label>
                            </div>
                        </div>
                        <div class="flex flex-row gap-x-4 mb-2">
                            <div class="grow ">
                                <label class="text-oform-body2 em iconRequired centerRight pr-4">Adresse</label>
                                <input type="text" aria-describedby="Gateadresse" id="onboardingAddressEdit" class="form-control required" onchange="addressChange()">
                                <label for="onboardingAddressEdit" class="error-text">Fyll inn din adresse.</label>
                            </div>
                            <div class="flex-none w-24">
                                <label class="text-oform-body2 em">Nummer</label>
                                <input type="text" aria-describedby="Nummer" id="onboardingHouseNoEdit" />
                                <div class="error-text"></div>
                            </div>
                        </div>
                        <div class="flex flex-row gap-x-4 mb-2">
                            <div class="flex-none w-24">
                                <label class="text-oform-body2 em iconRequired centerRight pr-4">Postnr</label>
                                <input id="onboardingZipEdit" type="number" class="form-control reset required" aria-describedby="Postnummer">
                                <label for="onboardingZipEdit" class="error-text">Fyll inn postnr.</label>
                            </div>
                            <div class="grow">
                                <label class="text-oform-body2 em">Poststed</label>
                                <div class="relative">
                                    <input id="onboardingPlaceEdit" type="text" class="form-control" readonly="readonly">
                                    <div id="city-loader" class="icon-container hidden"><i class="loader"></i></div>
                                </div>
                                <div class="error-text"></div>
                            </div>
                        </div>
                        <div class="mb-4 relative">
                            <div id="meternumberPopup" class="form-popup hidden">
                                <div class="flex justify-between mb-2">
                                    <div class="em">
<!--                                        @step2MeternumberInfoHeader-->
                                        {{step2.info-popup.text}}
                                    </div>
                                    <div class="form-popup-close iconClose btnIcon m-0 w-6 h-6 topRight cursor-pointer" onclick="HidePopup('#meternumberPopup')"></div>
                                </div>
<!--                                @step2MeternumberInfoText-->
                                {{step2.info-popup.sub-text}}
                            </div>
                            <div class="flex h-[25px]">
                                <label class="grow text-oform-body2 em">Målernummer</label>
                                {{#not-empty step2.info-popup.sub-text}}
<!--                                    @if (!string.IsNullOrEmpty(step2MeternumberInfoText.ToString()))-->
                                    {
                                    <div class="e-btn-link em underline cursor-pointer iconHelp centerRight w-4 h-4" data-popup="#step1InfoTekst" onclick="ShowPopup('#meternumberPopup')"></div>
<!--                                    }-->
                                {{/not-empty}}

                            </div>
                            <input id="meterNumberAdd" type="text" class="form-control" placeholder="Dersom tilgjengelig">
                        </div>
                        <div class="mb-4 hidden" id="step2email">
                            <label class="text-oform-body2 em iconRequired centerRight pr-4">E-post</label>
                            <input type="email" aria-describedby="E-post" id="onboarding_email_edit" placeholder="Skriv inn e-post" required="required">
                            <label class="error-text">Fyll inn gyldig e-post.</label>
                        </div>
                        <div class="mt-2 mb-4">
                            <label class="text-oform-body2">Felt merked med <span class="inline-block iconRequired centerCenter w-4 h-3"></span> er obligatorisk.</label>
                        </div>
                        <div class="mb-4">
                            <div class="flex items-center">
                                <input id="supply-takover" name="takover" type="checkbox" class="control w-6 h-6 rounded-sm">
                                <label for="supply-takover" class="ml-4 block text-oform-body em my-0 cursor-pointer">
<!--                                    @textMoveDate-->
                                    {{global.text.move-date}}
                                </label>
                            </div>
                        </div>
                        <div id="takeover-date" class="mb-4 hidden">
                            <label class="text-oform-body2 em">Dato du flytter inn</label>
                            <div class="w-[210px]"><input id="takoverDate" type="date" class="form-control form-date"></div>
                            <div class="error-text"></div>
                        </div>
                        <div class="flex justify-between">
                            <button class="e-btn-link underline btn-t-back" onclick="gotoStep(2, 'back')">
<!--                                @textBack-->
                                {{global.buttons.back}}
                            </button>
                            <button id="step2EditButton" class="e-btn-lg e-btn-secondary text-white hidden btn-t-editdelivery" onclick="validate('step2')">
<!--                                @textNext-->
                                {{global.buttons.next}}
                            </button>
                            <button id="step2AddButton" class="e-btn-lg e-btn-secondary text-white btn-t-addelivery" onclick="validate('step2', 'add')">
<!--                                @textNext-->
                                {{global.buttons.next}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lineDashed my-5 mx-auto"></div>
        </div>
        <!--Steg2 stopp-->
        <!--Steg3 start-->
        <div id="step3-sum" class="form-box relative h-[55px] flex items-center">
            <div class="form-bullet pos-left md em mx-4">3</div>
            <div class="text-oform-h1 em">
<!--                @content.Value("step3BoxHeader")-->
                {{step3.title}}
            </div>
        </div>

        <div id="step3-confirm" class="hidden hideOrderDetails">

            <div class="lineDashed mt-3.5 mb-10 mx-auto"></div>

            <div class="form-box  relative">
                <div class="form-bullet pos-center lg em">3</div>
                <div class="inner">
                    <div class="text-oform-h1 em mt-2">
<!--                        @content.Value("step3Header")-->
                        {{step3.header.text}}
                    </div>
<!--                    @content.Value("step3LeadText")-->
                    {{step3.header.sub-text}}
                    <div class="text-left mt-6">
                        <div class="flex mb-4">
                            {{#not-empty step3.securing.image-url}}
                                <div class="w-20 flex-none">
                                    <!-- @step3SecuringImageUrl-->
                                    <img src="{{step3.securing.image-url}}" />
                                </div>
                            {{/not-empty}}

                            <div class="grow">
                                <div class="em">
<!--                                    @step3SecuringHeader-->
                                    {{step3.securing.header.text}}
                                </div>
                                <div class="">
<!--                                    @step3SecuringText-->
                                    {{step3.securing.header.sub-text}}
                                </div>
                            </div>
                        </div>
                        <div class="">
                            <button class="e-btn-link em pr-4" onclick="showOrderDetails()">
                                Se ordredetaljer <i class="onHide iconChevronRight10 centerRight w-3 h-3 inline-block"></i><i class="onShow iconChevronDown10 centerRight w-3 h-3 inline-block"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <hr class="border-t-2 my-6" />
                <div class="onShow">
                    <!--Ordredetaljer-->
                    <div class="inner text-left">
                        <div class="flex mb-4">
                            <div class="w-12 flex-none"><img src="{{imagePath}}/css/icons/Smiley.svg" alt="Person" /></div>
                            <div class="grow" id="step3CustomerDataContainer">
                            </div>
                        </div>
                        <div class="flex mb-4">
                            <div class="w-12 flex-none"><img src="{{imagePath}}/css/icons//House.svg" alt="Adresse" /></div>
                            <div class="grow leading-6">
                                <div class="em">
<!--                                    @step3OrderDetailAddressHeader-->
                                    {{step3.order-details.address.text}}
                                </div>
                                <div id="step3CustomerDeliveriesContainer">
                                </div>
                                <div id="step3CustomerText" class="hidden">
<!--                                    @step3OrderDetailAddressInfoText-->
                                    {{step3.order-details.address.sub-text}}
                                </div>
                            </div>
                        </div>
                        {{#not-empty step3.order-details.product.text}}
<!--                            @if (!string.IsNullOrEmpty(step3ProductHeader.ToString()))-->
<!--                            {-->
                            <div class="flex mb-4">
                                <div class="w-12 flex-none"><img src="{{imagePath}}/css/icons/Agreement.svg" alt="Avtale" /></div>
                                <div class="grow leading-8">
                                    <div class="em">
<!--                                        @step3ProductHeader-->
                                        {{step3.order-details.product.text}}
                                    </div>
<!--                                    @step3ProductText-->
                                    {{step3.order-details.product.sub-text}}
                                </div>
                            </div>
<!--                            }-->
                        {{/not-empty}}

                        <div class="flex mb-4">
                            <div class="w-12 flex-none"><img src="{{imagePath}}/css/icons/Pen.svg" alt="Endre" /></div>
                            <div class="grow">
                                <button class="e-btn-link em btn-t-editdelivery" onclick="gotoStep(2)">
<!--                                    @textEdit-->
                                    {{global.buttons.edit}}
                                </button>
                            </div>
                        </div>

                    </div>
                    <hr class="border-t-2 my-4" />
                </div>
                <div>
                    <!--Vilkår-->
                    <div class="inner text-left">
                        <div class="em mb-3">Kjøpsvilkår og oppstart</div>
                        <div class="mb-2">
                            <div class="flex items-start">
                                <input id="acceptedTerms" name="acceptedTerms" type="checkbox" class="control w-6 h-6 rounded-sm mt-2 btn-t-acceptedterms">
                                <div class="ml-4 block text-oform-body1 my-0 cursor-pointer topLeft">
<!--                                    @Html.Raw(@acceptText)-->
                                    {{step3.confirm.accept}}
                                </div>
                            </div>
                        </div>
                        {{#not-empty step3.confirm.expedited}}
<!--                            @if (!string.IsNullOrEmpty(step3ConfirmFastStartup.ToString()))-->
<!--                            {-->
                            <div class="mb-2">
                                <div class="flex items-start">
                                    <input id="confirm-faststartup" name="faststartup" type="checkbox" class="control w-6 h-6 rounded-sm mt-2 btn-t-faststartup">
                                    <label for="confirm-faststartup" class="ml-4 block text-oform-body1 my-0 cursor-pointer">
<!--                                        @step3ConfirmFastStartup-->
                                        {{step3.confirm.expedited}}
                                    </label>
                                </div>
                            </div>
<!--                            }-->
                        {{/not-empty}}

                        {{#not-empty step3.confirm.text}}
<!--                            @if (!string.IsNullOrEmpty(step3ConfirmInfoText.ToString()))-->
<!--                            {-->
                            <div class="mb-2">
                                <div class="flex items-start">
                                    <input id="confirm-news" name="news" type="checkbox" class="control w-6 h-6 rounded-sm mt-2 btn-t-newsletter">
                                    <label for="confirm-news" class="ml-4 block text-oform-body1 my-0 cursor-pointer">
<!--                                        @step3ConfirmInformation-->
                                        {{step3.confirm.text}}
                                    </label>
                                </div>
                            </div>
<!--                            }-->
                        {{/not-empty}}


                        {{#not-empty step3.confirm.offer-and-newsletter}}
<!--                            @if (!string.IsNullOrEmpty(step3ConfirmInfoText.ToString()))-->
<!--                            {-->
                            <div class="mb-2">
<!--                                @step3ConfirmInfoText-->
                                {{step3.confirm.offer-and-newsletter}}
                            </div>
<!--                            }-->
                        {{/not-empty}}


                        <!--Bestill knapp-->
                        <div class="text-center mt-3">
                            <button id="onboardingSaleButton" class="e-btn-lg e-btn-secondary text-white inline-flex items-center px-4 py-2 btn-t-sale" onclick="" disabled="disabled">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
<!--                                @textOrder-->
                                {{global.buttons.order}}
                            </button>
                            <!--<button id="onboardingSaleButtonPending" class="e-btn-lg e-btn-secondary text-white hidden" disabled="disabled">@textOrderPending</button>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Steg3 stopp-->
        <!-- STEP4 EDIT Creating order START ------------------------------------------------------------------------------------------------------>

        <div id="step-createorder" class="hidden">
            <div class="min-h-[300px]">
                <div class="mx-auto mb-12">
                    <lottie-player src="{{imagePath}}/css/animation.json" background="transparent" speed="1" class="h-20 w-20 mx-auto" loop autoplay></lottie-player>
                </div>

            </div>
        </div>

    </div>
</div>
</div>

<script>
    (function(){
        console.log("Setting up component settings");
        window.saleApi = {{{json saleApi}}}
        window.vippsRedirectUrl = '{{step1.vipps.redirectUrl}}';
        window.profile = '{{profile}}';
    })();

</script>